<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>简单数据类型和复杂数据类型</title>
    <!-- 
        <定义>
        简单数据类型又叫做基本数据类型或者值类型,复杂数据类型又叫做引用类型。
        ·值类型: 简单数据类型/基本数据类型,在存储时变量中存储的时值本身,因此叫做值类型 string,number,boolean,undefined,null(返回的是一个空对象)
        ·引用类型: 复杂数据类型,在存储变量中存储的仅仅是地址(引用),因此叫做引用数据类型,通过new 关键字创建的对象(系统对象、自定义对象),如Object、Array、Date等
        <栈堆空间分配的区别>
        1. 栈(操作系统):由操作系统自动分配释放存放函数的参数值、局部变量的值等。其操作方式类似于数据结构中的栈; 简单数据类型存放到栈里面
        简单数据类型 是存放在栈里面 里面直接开辟一个空间存放的是值
        2. 堆(操作系统):存储复杂类型(对象),一般由程序员分配释放,若程序员不释放,由垃圾回收机制回收。 复杂数据类型存放到堆里面
        复杂数据类型 首先在栈里面存放地址 十六进制表示 然后这个地址指向堆里面的数据
     -->
    <script>
        // 简单数据类型传参
        // 函数的形参也可以看作是一个变量,当我们把一个值类型变量作为参数传给函数的形参时,其实是把变量在栈空间里的值复制了一份给形参,是两个对象,那么在方法内部对形参做任何修改,都不会影响到外部的变量
        function fn(a) {
            a++;
            console.log(a); // 11
        }
        var x = 10;
        fn(x);
        console.log(x);     // 10
        // 复杂数据类型传参
        // 函数的形参也可以看做是一个变量,当我们把引用类型变量传给形参时,其实是把变量在栈空间里保存的堆地址复制给了形参,形参和实参其实保存的是同一个堆地址,所以操作的是同一个对象,一个对象的值改变,另一个也随之改变
        // 案例1
        function Person(name) {
            this.name = name;
        }
        function f1(x) {    // x = p
            console.log(x.name);    // 刘德华
            x.name = '张学友';
            console.log(x.name);    // 张学友
        }
        var p = new Person('刘德华');
        console.log(p.name);    // 刘德华
        f1(p);
        console.log(p.name);    // 张学友
        // 案例2
        var arr1 = [1, 2, 3];
        var arr2 = arr1;    // 把栈里面的地址复制了一下
        arr1.push(4);
        console.log(arr1);
        console.log(arr2);
    </script>
</head>

<body>

</body>

</html>